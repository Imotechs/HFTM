{%extends 'base2.html'%}
{%load static%}

{%block content%}
 <!-- ============================================================== -->
        <!-- End Topbar header -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
 
        <!-- ============================================================== -->
        <!-- End Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- End Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Welcome back  -->
                <!-- ============================================================== -->
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card  bg-light no-card-border">
                            <div class="card-body">
                                <div class="d-flex align-items-center">
                                    <div class="m-r-10">
                                        <img src="{%static 'users/assets/images/users/1.png'%}" alt="user" width="60" class="rounded-circle" />
                                    </div>
                                    <div>
                                        <h3 class="m-b-0">{{request.user.username}}</h3>
                                        <p style="color:blueviolet"> &nbsp;copy your ref link</p>
                                        <span id = "date1">{{request.user.email}}</span>
                                        
                                        
                                    </div>
                                    <p id="p1" style="margin-top:0px; margin-bottom:0px;" hidden> </p>
                                    <i 
                                        style="margin-left: 5px; 
                                        cursor: pointer; 
                                        padding-top: 7px;
                                        font-weight: 700;" 
                                        class="fa fa-copy" onclick="copyToClipboard('#p1')">
                                    </i> 
                                    <b id="copied" style="display: none; margin-left: 5px;">Copied!</b>

                                <script>
                                    var ref = document.domain +'/users/accounts/sign_up/'+'{{request.user.profile.uid}}/'
                                    var refbtn = document.getElementById('p1')
                                    refbtn.innerText =ref

                                    function copyToClipboard(element) {
                                    var $temp = $("<input>");
                                    $("body").append($temp);
                                    $temp.val($(element).text()).select();
                                    document.execCommand("copy");
                                    $temp.remove();

                                    var copy = document.getElementById('copied')
                                    copy.style.display = "block";
                                    }
                                </script>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="container rounded bg-white mt-5 mb-5">
                    <div class="row">
                        <div class="col-md-5 border-right">
                            <div class="p-3 py-5">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h4 class="text-right">Profile Settings</h4>
                                </div>
          <label class="labels">Ref. code</label><input type="text" class="form-control" placeholder="{{request.user.profile.uid}}" value="{{request.user.profile.uid}}" >

                                <div class="row mt-2">
                                    <div class="col-md-6"><label class="labels">Name</label><input type="text" class="form-control" placeholder="{{request.user.first_name}}" value="" readonly></div>
                                    <div class="col-md-6"><label class="labels">Surname</label><input type="text" class="form-control" value="" placeholder="{{request.user.last_name}}" readonly></div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-md-12"><label class="labels">Mobile Number</label><input type="text" class="form-control" placeholder="{{request.user.profile.phone}}" value="" readonly></div>
                                    <div class="col-md-12"><label class="labels">Email ID</label><input type="text" class="form-control" placeholder="{{request.user.email}}" value="" readonly></div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-md-6"><label class="labels">Country</label><input type="text" class="form-control" placeholder="{{request.user.profile.country}}" value="" readonly></div>
                                </div>
                                <div class="mt-5 text-center"><button class="btn btn-primary profile-button" type="button">Profile</button></div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="p-3 py-5">
                                <div class="d-flex justify-content-between align-items-center transactions"><span>Edit Profile Details</span></div><br>
                                <form action="{%url 'settings'%}" method="post">
                                <div class="row mt-2">
                                    <div class="col-md-6"><label class="labels">Name</label><input type="text" class="form-control" name ="first_name"placeholder="First name" required></div>
                                    <div class="col-md-6"><label class="labels">Surname</label><input type="text" class="form-control" name ="last_name" value="" placeholder="Surname" required></div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-md-12"><label class="labels">Mobile Number</label><input type="text" class="form-control"name = "phone" placeholder="Enter Phone Number" required></div>
                                    <div class="col-md-12"><label class="labels">Email ID</label><input type="text" class="form-control" placeholder="{{request.user.email}}" readonly></div>
                                </div>
                                {%csrf_token%}
                                <div class="row mt-3">
                                    <div class="col-md-6"><label class="labels">Country</label><input type="text" name ="country" class="form-control" placeholder="Country" required></div>
                                </div>
                                <div class="mt-5 text-center"><button class="btn btn-primary profile-button" type="submit">Save Profile</button></div>
                            </div>
                        </form>
                        </div>
                    </div>    
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
        </div>
    <!-- ============================================================== -->
    <!-- End Page wrapper  -->
    <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    {%endblock content%}